<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Cranelift code generation library."><title>cranelift_codegen - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="cranelift_codegen" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../cranelift_codegen/index.html">cranelift_codegen</a><span class="version">0.112.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">cranelift_codegen</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/cranelift_codegen/lib.rs.html#1-106">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Cranelift code generation library.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.verify_function"><code>pub use crate::verifier::<a class="fn" href="verifier/fn.verify_function.html" title="fn cranelift_codegen::verifier::verify_function">verify_function</a>;</code></div></li><li><div class="item-name" id="reexport.write_function"><code>pub use crate::write::<a class="fn" href="write/fn.write_function.html" title="fn cranelift_codegen::write::write_function">write_function</a>;</code></div></li><li><div class="item-name" id="reexport.bforest"><code>pub use <a class="mod" href="../cranelift_bforest/index.html" title="mod cranelift_bforest">cranelift_bforest</a> as bforest;</code></div></li><li><div class="item-name" id="reexport.bitset"><code>pub use <a class="mod" href="../cranelift_bitset/index.html" title="mod cranelift_bitset">cranelift_bitset</a> as bitset;</code></div></li><li><div class="item-name" id="reexport.control"><code>pub use <a class="mod" href="../cranelift_control/index.html" title="mod cranelift_control">cranelift_control</a> as control;</code></div></li><li><div class="item-name" id="reexport.entity"><code>pub use <a class="mod" href="../cranelift_entity/index.html" title="mod cranelift_entity">cranelift_entity</a> as entity;</code></div></li><li><div class="item-name" id="reexport.gimli"><code>pub use <a class="mod" href="../gimli/index.html" title="mod gimli">gimli</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="binemit/index.html" title="mod cranelift_codegen::binemit">binemit</a></div><div class="desc docblock-short">Binary machine code emission.</div></li><li><div class="item-name"><a class="mod" href="cfg_printer/index.html" title="mod cranelift_codegen::cfg_printer">cfg_printer</a></div><div class="desc docblock-short">The <code>CFGPrinter</code> utility.</div></li><li><div class="item-name"><a class="mod" href="cursor/index.html" title="mod cranelift_codegen::cursor">cursor</a></div><div class="desc docblock-short">Cursor library.</div></li><li><div class="item-name"><a class="mod" href="data_value/index.html" title="mod cranelift_codegen::data_value">data_value</a></div><div class="desc docblock-short">This module gives users to instantiate values that Cranelift understands. These values are used,
for example, during interpretation and for wrapping immediates.</div></li><li><div class="item-name"><a class="mod" href="dbg/index.html" title="mod cranelift_codegen::dbg">dbg</a></div><div class="desc docblock-short">Debug tracing helpers.</div></li><li><div class="item-name"><a class="mod" href="dominator_tree/index.html" title="mod cranelift_codegen::dominator_tree">dominator_tree</a></div><div class="desc docblock-short">A Dominator Tree represented as mappings of Blocks to their immediate dominator.</div></li><li><div class="item-name"><a class="mod" href="flowgraph/index.html" title="mod cranelift_codegen::flowgraph">flowgraph</a></div><div class="desc docblock-short">A control flow graph represented as mappings of basic blocks to their predecessors
and successors.</div></li><li><div class="item-name"><a class="mod" href="ir/index.html" title="mod cranelift_codegen::ir">ir</a></div><div class="desc docblock-short">Representation of Cranelift IR functions.</div></li><li><div class="item-name"><a class="mod" href="isa/index.html" title="mod cranelift_codegen::isa">isa</a></div><div class="desc docblock-short">Instruction Set Architectures.</div></li><li><div class="item-name"><a class="mod" href="loop_analysis/index.html" title="mod cranelift_codegen::loop_analysis">loop_analysis</a></div><div class="desc docblock-short">A loop analysis represented as mappings of loops to their header Block
and parent in the loop tree.</div></li><li><div class="item-name"><a class="mod" href="packed_option/index.html" title="mod cranelift_codegen::packed_option">packed_option</a></div><div class="desc docblock-short">Compact representation of <code>Option&lt;T&gt;</code> for types with a reserved value.</div></li><li><div class="item-name"><a class="mod" href="print_errors/index.html" title="mod cranelift_codegen::print_errors">print_errors</a></div><div class="desc docblock-short">Utility routines for pretty-printing error messages.</div></li><li><div class="item-name"><a class="mod" href="settings/index.html" title="mod cranelift_codegen::settings">settings</a></div><div class="desc docblock-short">Shared settings module.</div></li><li><div class="item-name"><a class="mod" href="timing/index.html" title="mod cranelift_codegen::timing">timing</a></div><div class="desc docblock-short">Pass timing.</div></li><li><div class="item-name"><a class="mod" href="traversals/index.html" title="mod cranelift_codegen::traversals">traversals</a></div><div class="desc docblock-short">Traversals over the IR.</div></li><li><div class="item-name"><a class="mod" href="verifier/index.html" title="mod cranelift_codegen::verifier">verifier</a></div><div class="desc docblock-short">A verifier for ensuring that functions are well formed.
It verifies:</div></li><li><div class="item-name"><a class="mod" href="write/index.html" title="mod cranelift_codegen::write">write</a></div><div class="desc docblock-short">Converting Cranelift IR to text.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.trace.html" title="macro cranelift_codegen::trace">trace</a></div><div class="desc docblock-short">Even when trace logging is disabled, the trace macro has a significant performance cost so we
disable it by default.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CallInfo.html" title="struct cranelift_codegen::CallInfo">CallInfo</a></div><div class="desc docblock-short">Out-of-line data for calls, to keep the size of <code>Inst</code> down.</div></li><li><div class="item-name"><a class="struct" href="struct.CompileError.html" title="struct cranelift_codegen::CompileError">CompileError</a></div><div class="desc docblock-short">Compilation error, with the accompanying function to help printing it.</div></li><li><div class="item-name"><a class="struct" href="struct.Context.html" title="struct cranelift_codegen::Context">Context</a></div><div class="desc docblock-short">Persistent data structures and compilation pipeline.</div></li><li><div class="item-name"><a class="struct" href="struct.Final.html" title="struct cranelift_codegen::Final">Final</a></div><div class="desc docblock-short">Status of a compiled artifact ready to use.</div></li><li><div class="item-name"><a class="struct" href="struct.MachBuffer.html" title="struct cranelift_codegen::MachBuffer">MachBuffer</a></div><div class="desc docblock-short">A buffer of output to be produced, fixed up, and then emitted to a CodeSink
in bulk.</div></li><li><div class="item-name"><a class="struct" href="struct.MachBufferFinalized.html" title="struct cranelift_codegen::MachBufferFinalized">MachBufferFinalized</a></div><div class="desc docblock-short">A <code>MachBuffer</code> once emission is completed: holds generated code and records,
without fixups. This allows the type to be independent of the backend.</div></li><li><div class="item-name"><a class="struct" href="struct.MachCallSite.html" title="struct cranelift_codegen::MachCallSite">MachCallSite</a></div><div class="desc docblock-short">A call site record resulting from a compilation.</div></li><li><div class="item-name"><a class="struct" href="struct.MachLabel.html" title="struct cranelift_codegen::MachLabel">MachLabel</a></div><div class="desc docblock-short">A label refers to some offset in a <code>MachBuffer</code>. It may not be resolved at
the point at which it is used by emitted code; the buffer records “fixups”
for references to the label, and will come back and patch the code
appropriately when the label’s location is eventually known.</div></li><li><div class="item-name"><a class="struct" href="struct.MachSrcLoc.html" title="struct cranelift_codegen::MachSrcLoc">MachSrcLoc</a></div><div class="desc docblock-short">A source-location mapping resulting from a compilation.</div></li><li><div class="item-name"><a class="struct" href="struct.MachTextSectionBuilder.html" title="struct cranelift_codegen::MachTextSectionBuilder">MachTextSectionBuilder</a></div><div class="desc docblock-short">Implementation of the <code>TextSectionBuilder</code> trait backed by <code>MachBuffer</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.MachTrap.html" title="struct cranelift_codegen::MachTrap">MachTrap</a></div><div class="desc docblock-short">A trap record resulting from a compilation.</div></li><li><div class="item-name"><a class="struct" href="struct.OpenPatchRegion.html" title="struct cranelift_codegen::OpenPatchRegion">OpenPatchRegion</a></div><div class="desc docblock-short">Represents the beginning of an editable region in the <a href="struct.MachBuffer.html" title="struct cranelift_codegen::MachBuffer"><code>MachBuffer</code></a>, while code emission is
still occurring. An <a href="struct.OpenPatchRegion.html" title="struct cranelift_codegen::OpenPatchRegion"><code>OpenPatchRegion</code></a> is closed by <a href="struct.MachBuffer.html#method.end_patchable" title="method cranelift_codegen::MachBuffer::end_patchable"><code>MachBuffer::end_patchable</code></a>, consuming
the <a href="struct.OpenPatchRegion.html" title="struct cranelift_codegen::OpenPatchRegion"><code>OpenPatchRegion</code></a> token in the process.</div></li><li><div class="item-name"><a class="struct" href="struct.PatchRegion.html" title="struct cranelift_codegen::PatchRegion">PatchRegion</a></div><div class="desc docblock-short">A region in the <a href="struct.MachBuffer.html" title="struct cranelift_codegen::MachBuffer"><code>MachBuffer</code></a> code buffer that can be edited prior to finalization. An example
of where you might want to use this is for patching instructions that mention constants that
won’t be known until later: <a href="struct.MachBuffer.html#method.start_patchable" title="method cranelift_codegen::MachBuffer::start_patchable"><code>MachBuffer::start_patchable</code></a> can be used to begin the patchable
region, instructions can be emitted with placeholder constants, and the <a href="struct.PatchRegion.html" title="struct cranelift_codegen::PatchRegion"><code>PatchRegion</code></a> token
can be produced by <a href="struct.MachBuffer.html#method.end_patchable" title="method cranelift_codegen::MachBuffer::end_patchable"><code>MachBuffer::end_patchable</code></a>. Once the values of those constants are known,
the <a href="struct.PatchRegion.html#method.patch" title="method cranelift_codegen::PatchRegion::patch"><code>PatchRegion::patch</code></a> function can be used to get a mutable buffer to the instruction
bytes, and the constants uses can be updated directly.</div></li><li><div class="item-name"><a class="struct" href="struct.RealReg.html" title="struct cranelift_codegen::RealReg">RealReg</a></div><div class="desc docblock-short">A real (physical) register. This corresponds to one of the target
ISA’s named registers and can be used as an instruction operand.</div></li><li><div class="item-name"><a class="struct" href="struct.Reg.html" title="struct cranelift_codegen::Reg">Reg</a></div><div class="desc docblock-short">A register named in an instruction. This register can be either a
virtual register or a fixed physical register. It does not have
any constraints applied to it: those can be added later in
<code>MachInst::get_operands()</code> when the <code>Reg</code>s are converted to
<code>Operand</code>s.</div></li><li><div class="item-name"><a class="struct" href="struct.VCodeConstants.html" title="struct cranelift_codegen::VCodeConstants">VCodeConstants</a></div><div class="desc docblock-short">This structure tracks the large constants used in VCode that will be emitted separately by the
<a href="struct.MachBuffer.html" title="struct cranelift_codegen::MachBuffer">MachBuffer</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.ValueLocRange.html" title="struct cranelift_codegen::ValueLocRange">ValueLocRange</a></div><div class="desc docblock-short">Value location range.</div></li><li><div class="item-name"><a class="struct" href="struct.Writable.html" title="struct cranelift_codegen::Writable">Writable</a></div><div class="desc docblock-short">A type wrapper that indicates a register type is writable. The
underlying register can be extracted, and the type wrapper can be
built using an arbitrary register. Hence, this type-level wrapper
is not strictly a guarantee. However, “casting” to a writable
register is an explicit operation for which we can
audit. Ordinarily, internal APIs in the compiler backend should
take a <code>Writable&lt;Reg&gt;</code> whenever the register is written, and the
usual, frictionless way to get one of these is to allocate a new
temporary.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.CodegenError.html" title="enum cranelift_codegen::CodegenError">CodegenError</a></div><div class="desc docblock-short">A compilation error.</div></li><li><div class="item-name"><a class="enum" href="enum.FinalizedRelocTarget.html" title="enum cranelift_codegen::FinalizedRelocTarget">FinalizedRelocTarget</a></div><div class="desc docblock-short">A Relocation target</div></li><li><div class="item-name"><a class="enum" href="enum.LabelValueLoc.html" title="enum cranelift_codegen::LabelValueLoc">LabelValueLoc</a></div><div class="desc docblock-short">The particular location for a value.</div></li><li><div class="item-name"><a class="enum" href="enum.RelocDistance.html" title="enum cranelift_codegen::RelocDistance">RelocDistance</a></div><div class="desc docblock-short">Notion of “relocation distance”. This gives an estimate of how far away a symbol will be from a
reference.</div></li><li><div class="item-name"><a class="enum" href="enum.VCodeConstantData.html" title="enum cranelift_codegen::VCodeConstantData">VCodeConstantData</a></div><div class="desc docblock-short">Identify the different types of constant that can be inserted into <a href="struct.VCodeConstants.html" title="struct cranelift_codegen::VCodeConstants">VCodeConstants</a>. Tracking
these separately instead of as raw byte buffers allows us to avoid some duplication.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.VERSION.html" title="constant cranelift_codegen::VERSION">VERSION</a></div><div class="desc docblock-short">Version number of this crate.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.MachInst.html" title="trait cranelift_codegen::MachInst">MachInst</a></div><div class="desc docblock-short">A machine instruction.</div></li><li><div class="item-name"><a class="trait" href="trait.MachInstEmit.html" title="trait cranelift_codegen::MachInstEmit">MachInstEmit</a></div><div class="desc docblock-short">A trait describing the ability to encode a MachInst into binary machine code.</div></li><li><div class="item-name"><a class="trait" href="trait.MachInstEmitState.html" title="trait cranelift_codegen::MachInstEmitState">MachInstEmitState</a></div><div class="desc docblock-short">A trait describing the emission state carried between MachInsts when
emitting a function body.</div></li><li><div class="item-name"><a class="trait" href="trait.TextSectionBuilder.html" title="trait cranelift_codegen::TextSectionBuilder">TextSectionBuilder</a></div><div class="desc docblock-short">An object that can be used to create the text section of an executable.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.CodegenResult.html" title="type cranelift_codegen::CodegenResult">CodegenResult</a></div><div class="desc docblock-short">A convenient alias for a <code>Result</code> that uses <code>CodegenError</code> as the error type.</div></li><li><div class="item-name"><a class="type" href="type.CompiledCode.html" title="type cranelift_codegen::CompiledCode">CompiledCode</a></div><div class="desc docblock-short"><code>CompiledCode</code> in its final form (i.e. after <code>FunctionParameters</code> have been applied), ready for
consumption.</div></li><li><div class="item-name"><a class="type" href="type.FinalizedMachReloc.html" title="type cranelift_codegen::FinalizedMachReloc">FinalizedMachReloc</a></div><div class="desc docblock-short">A relocation resulting from a compilation.</div></li><li><div class="item-name"><a class="type" href="type.ValueLabelsRanges.html" title="type cranelift_codegen::ValueLabelsRanges">ValueLabelsRanges</a></div><div class="desc docblock-short">Resulting map of Value labels and their ranges/locations.</div></li></ul></section></div></main></body></html>