<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Helper types for tests."><title>linera_views::test_utils - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="linera_views" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../linera_views/index.html">linera_views</a><span class="version">0.14.0</span></h2></div><h2 class="location"><a href="#">Module test_utils</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate linera_views</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">linera_views</a>::<wbr><a class="mod" href="#">test_utils</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/linera_views/test_utils/mod.rs.html#4-702">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Helper types for tests.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="performance/index.html" title="mod linera_views::test_utils::performance">performance</a></div><div class="desc docblock-short">Functions for computing the performance of stores.</div></li><li><div class="item-name"><a class="mod" href="test_views/index.html" title="mod linera_views::test_utils::test_views">test_views</a></div><div class="desc docblock-short">Some <a href="../views/trait.View.html" title="trait linera_views::views::View"><code>View</code></a>s that are easy to use with test cases.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.add_prefix.html" title="fn linera_views::test_utils::add_prefix">add_prefix</a></div><div class="desc docblock-short">Adds a prefix to a list of key-values</div></li><li><div class="item-name"><a class="fn" href="fn.admin_test.html" title="fn linera_views::test_utils::admin_test">admin_test</a></div><div class="desc docblock-short">Exercises the functionalities of the <code>AdminKeyValueStore</code>.
This tests everything except the <code>delete_all</code> which would
interact with other namespaces.</div></li><li><div class="item-name"><a class="fn" href="fn.big_read_multi_values.html" title="fn linera_views::test_utils::big_read_multi_values">big_read_multi_values</a></div><div class="desc docblock-short">Reading many keys at a time could trigger an error. This needs to be tested.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_byte_vector.html" title="fn linera_views::test_utils::get_random_byte_vector">get_random_byte_vector</a></div><div class="desc docblock-short">Takes a random number generator, a key_prefix and extends it by n random bytes.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_prefix.html" title="fn linera_views::test_utils::get_random_key_prefix">get_random_key_prefix</a></div><div class="desc docblock-short">Returns a random key_prefix used for tests</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_value_operations.html" title="fn linera_views::test_utils::get_random_key_value_operations">get_random_key_value_operations</a></div><div class="desc docblock-short">A bunch of puts and some deletes.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_values.html" title="fn linera_views::test_utils::get_random_key_values">get_random_key_values</a></div><div class="desc docblock-short">Takes a random number generator rng, a number n and returns n random <code>(key, value)</code>
which are all distinct with key and value being of length 8.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_values2.html" title="fn linera_views::test_utils::get_random_key_values2">get_random_key_values2</a></div><div class="desc docblock-short">Generates a list of random key-values with no duplicates</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_values_prefix.html" title="fn linera_views::test_utils::get_random_key_values_prefix">get_random_key_values_prefix</a></div><div class="desc docblock-short">Takes a random number generator, a key_prefix and generates
pairs <code>(key, value)</code> with key obtained by appending 8 bytes at random to key_prefix
and value obtained by appending 8 bytes to the trivial vector.
We return n such <code>(key, value)</code> pairs which are all distinct</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_kset.html" title="fn linera_views::test_utils::get_random_kset">get_random_kset</a></div><div class="desc docblock-short">Builds a random k element subset of n</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_test_scenarios.html" title="fn linera_views::test_utils::get_random_test_scenarios">get_random_test_scenarios</a></div><div class="desc docblock-short">We build a number of scenarios for testing the reads.</div></li><li><div class="item-name"><a class="fn" href="fn.get_small_key_space.html" title="fn linera_views::test_utils::get_small_key_space">get_small_key_space</a></div><div class="desc docblock-short">Appends a small value to a key making collisions likely.</div></li><li><div class="item-name"><a class="fn" href="fn.run_big_write_read.html" title="fn linera_views::test_utils::run_big_write_read">run_big_write_read</a></div><div class="desc docblock-short">DynamoDb has limits at 1M (for pagination), 4M (for write)
Let us go right past them at 20M of data with writing and then
reading it. And 20M is not huge by any mean. All KeyValueStore
must handle that.</div></li><li><div class="item-name"><a class="fn" href="fn.run_reads.html" title="fn linera_views::test_utils::run_reads">run_reads</a></div><div class="desc docblock-short">This test starts with a collection of key/values being inserted into the code
which is then followed by a number of reading tests. The functionalities being
tested are all the reading functionalities:</div></li><li><div class="item-name"><a class="fn" href="fn.run_test_batch_from_blank.html" title="fn linera_views::test_utils::run_test_batch_from_blank">run_test_batch_from_blank</a></div><div class="desc docblock-short">Writes and then reads data under a prefix, and verifies the result.</div></li><li><div class="item-name"><a class="fn" href="fn.run_writes_from_blank.html" title="fn linera_views::test_utils::run_writes_from_blank">run_writes_from_blank</a></div><div class="desc docblock-short">Run many operations on batches always starting from a blank state.</div></li><li><div class="item-name"><a class="fn" href="fn.run_writes_from_state.html" title="fn linera_views::test_utils::run_writes_from_state">run_writes_from_state</a></div><div class="desc docblock-short">Run some deterministic and random batches operation and check their
correctness</div></li><li><div class="item-name"><a class="fn" href="fn.span_random_reordering_put_delete.html" title="fn linera_views::test_utils::span_random_reordering_put_delete">span_random_reordering_put_delete</a></div><div class="desc docblock-short">A random reordering of the puts and deletes.
For something like MapView it should get us the same result whatever way we are calling.</div></li><li><div class="item-name"><a class="fn" href="fn.tombstone_triggering_test.html" title="fn linera_views::test_utils::tombstone_triggering_test">tombstone_triggering_test</a></div><div class="desc docblock-short">That test is especially challenging for ScyllaDB.
In its default settings, Scylla has a limitation to 10000 tombstones.
A tombstone is an indication that the data has been deleted. That
is thus a trie data structure for checking whether a requested key
is deleted or not.</div></li></ul></section></div></main></body></html>